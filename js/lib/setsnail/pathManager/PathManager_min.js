function PathManager(){function init(){setInterval(checkHash,200)}function checkHash(){var newHash=getWellFormattedHash();_oldHash!==newHash&&handlePathChange(newHash)}function getWellFormattedHash(){var hash=window.location.hash;return"#"===hash.charAt(0)&&(hash=hash.replace("#","")),"/"===hash.charAt(0)&&(hash=hash.replace("/","")),hash}function handlePathChange(newHash){return _confirmChange===!0?void addConfirmOverlay():(_instance.dispatchEvent(Actions.PATH_DECONSTRUCT_the_path.replace("the_path",_oldHash)),_instance.dispatchEvent(Actions.PATH_CONSTRUCT_the_path.replace("the_path",newHash)),_instance.dispatchEvent(Actions.PATH_CHANGE,{path:newHash}),void(_oldHash=newHash))}function addConfirmOverlay(){null===_overlayConfirm&&(_overlayConfirm=new OverlayConfirm("Are you sure you want to navigate away from this page without saving?"),CMSCore.layerOverlay.appendChild(_overlayConfirm),_overlayConfirm.setSelectCallback(onConfirmed),_overlayConfirm.init())}function onConfirmed(id){_overlayConfirm=null,"yes"!==id?window.location.hash=_oldHash:(_confirmChange=!1,checkHash())}var _instance=new EventDispatcher,_oldHash="",_confirmChange=!1,_overlayConfirm=null;return init(),_instance.reload=function(){handlePathChange(_oldHash)},_instance.confirmChange=function(value){_confirmChange=value},_instance.getPart=function(level){var hash=getWellFormattedHash(),parts=hash.split("/");return level<parts.length?parts[level]:""},_instance}