var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";_gsScope._gsDefine("utils.Draggable",["events.EventDispatcher","TweenLite","plugins.CSSPlugin"],function(EventDispatcher,TweenLite,CSSPlugin){var _prefix,_isMultiTouching,ThrowPropsPlugin,_svgBorderFactor,_svgBorderScales,_svgScrollOffset,_hasBorderBug,_hasReparentBug,_addPaddingBR,_tempVarsXY={css:{}},_tempVarsX={css:{}},_tempVarsY={css:{}},_tempVarsRotation={css:{}},_globals=_gsScope._gsDefine.globals,_tempEvent={},_doc=document,_docElement=_doc.documentElement||{},_createElement=function(type){return _doc.createElementNS?_doc.createElementNS("http://www.w3.org/1999/xhtml",type):_doc.createElement(type)},_tempDiv=_createElement("div"),_emptyArray=[],_emptyFunc=function(){return!1},_RAD2DEG=180/Math.PI,_max=999999999999999,_getTime=Date.now||function(){return(new Date).getTime()},_isOldIE=!(_doc.addEventListener||!_doc.all),_placeholderDiv=_doc.createElement("div"),_renderQueue=[],_lookup={},_lookupCount=0,_clickableTagExp=/^(?:a|input|textarea|button|select)$/i,_dragCount=0,_isAndroid=-1!==navigator.userAgent.toLowerCase().indexOf("android"),_lastDragTime=0,_temp1={},_windowProxy={},_slice=function(a){if("string"==typeof a&&(a=TweenLite.selector(a)),!a||a.nodeType)return[a];var i,b=[],l=a.length;for(i=0;i!==l;b.push(a[i++]));return b},_copy=function(obj){var p,copy={};for(p in obj)copy[p]=obj[p];return copy},_renderQueueTick=function(){for(var i=_renderQueue.length;--i>-1;)_renderQueue[i]()},_addToRenderQueue=function(func){_renderQueue.push(func),1===_renderQueue.length&&TweenLite.ticker.addEventListener("tick",_renderQueueTick,this,!1,1)},_removeFromRenderQueue=function(func){for(var i=_renderQueue.length;--i>-1;)_renderQueue[i]===func&&_renderQueue.splice(i,1);TweenLite.to(_renderQueueTimeout,0,{overwrite:"all",delay:15,onComplete:_renderQueueTimeout})},_renderQueueTimeout=function(){_renderQueue.length||TweenLite.ticker.removeEventListener("tick",_renderQueueTick)},_extend=function(obj,defaults){var p;for(p in defaults)void 0===obj[p]&&(obj[p]=defaults[p]);return obj},_getDocScrollTop=function(){return null!=window.pageYOffset?window.pageYOffset:null!=_doc.scrollTop?_doc.scrollTop:_docElement.scrollTop||_doc.body.scrollTop||0},_getDocScrollLeft=function(){return null!=window.pageXOffset?window.pageXOffset:null!=_doc.scrollLeft?_doc.scrollLeft:_docElement.scrollLeft||_doc.body.scrollLeft||0},_addScrollListener=function(e,callback){_addListener(e,"scroll",callback),_isRoot(e.parentNode)||_addScrollListener(e.parentNode,callback)},_removeScrollListener=function(e,callback){_removeListener(e,"scroll",callback),_isRoot(e.parentNode)||_removeScrollListener(e.parentNode,callback)},_isRoot=function(e){return!(e&&e!==_docElement&&e!==_doc&&e!==_doc.body&&e!==window&&e.nodeType&&e.parentNode)},_getMaxScroll=function(element,axis){var dim="x"===axis?"Width":"Height",scroll="scroll"+dim,client="client"+dim,body=_doc.body;return Math.max(0,_isRoot(element)?Math.max(_docElement[scroll],body[scroll])-(window["inner"+dim]||_docElement[client]||body[client]):element[scroll]-element[client])},_recordMaxScrolls=function(e){var isRoot=_isRoot(e),x=_getMaxScroll(e,"x"),y=_getMaxScroll(e,"y");isRoot?e=_windowProxy:_recordMaxScrolls(e.parentNode),e._gsMaxScrollX=x,e._gsMaxScrollY=y,e._gsScrollX=e.scrollLeft||0,e._gsScrollY=e.scrollTop||0},_populateIEEvent=function(e,preventDefault){return e=e||window.event,_tempEvent.pageX=e.clientX+_doc.body.scrollLeft+_docElement.scrollLeft,_tempEvent.pageY=e.clientY+_doc.body.scrollTop+_docElement.scrollTop,preventDefault&&(e.returnValue=!1),_tempEvent},_unwrapElement=function(value){return value?("string"==typeof value&&(value=TweenLite.selector(value)),value.length&&value!==window&&value[0]&&value[0].style&&!value.nodeType&&(value=value[0]),value===window||value.nodeType&&value.style?value:null):value},_checkPrefix=function(e,p){var capped,i,a,s=e.style;if(void 0===s[p]){for(a=["O","Moz","ms","Ms","Webkit"],i=5,capped=p.charAt(0).toUpperCase()+p.substr(1);--i>-1&&void 0===s[a[i]+capped];);if(0>i)return"";_prefix=3===i?"ms":a[i],p=_prefix+capped}return p},_setStyle=function(e,p,value){var s=e.style;s&&(void 0===s[p]&&(p=_checkPrefix(e,p)),null==value?s.removeProperty?s.removeProperty(p.replace(/([A-Z])/g,"-$1").toLowerCase()):s.removeAttribute(p):void 0!==s[p]&&(s[p]=value))},_getComputedStyle=_doc.defaultView?_doc.defaultView.getComputedStyle:_emptyFunc,_horizExp=/(?:Left|Right|Width)/i,_suffixExp=/(?:\d|\-|\+|=|#|\.)*/g,_convertToPixels=function(t,p,v,sfx,recurse){if("px"===sfx||!sfx)return v;if("auto"===sfx||!v)return 0;var pix,horiz=_horizExp.test(p),node=t,style=_tempDiv.style,neg=0>v;return neg&&(v=-v),"%"===sfx&&-1!==p.indexOf("border")?pix=v/100*(horiz?t.clientWidth:t.clientHeight):(style.cssText="border:0 solid red;position:"+_getStyle(t,"position",!0)+";line-height:0;","%"!==sfx&&node.appendChild?style[horiz?"borderLeftWidth":"borderTopWidth"]=v+sfx:(node=t.parentNode||_doc.body,style[horiz?"width":"height"]=v+sfx),node.appendChild(_tempDiv),pix=parseFloat(_tempDiv[horiz?"offsetWidth":"offsetHeight"]),node.removeChild(_tempDiv),0!==pix||recurse||(pix=_convertToPixels(t,p,v,sfx,!0))),neg?-pix:pix},_calculateOffset=function(t,p){if("absolute"!==_getStyle(t,"position",!0))return 0;var dim="left"===p?"Left":"Top",v=_getStyle(t,"margin"+dim,!0);return t["offset"+dim]-(_convertToPixels(t,p,parseFloat(v),(v+"").replace(_suffixExp,""))||0)},_getStyle=function(element,prop,keepUnits){var cs,rv=(element._gsTransform||{})[prop];return rv||0===rv?rv:(element.style[prop]?rv=element.style[prop]:(cs=_getComputedStyle(element))?(rv=cs.getPropertyValue(prop.replace(/([A-Z])/g,"-$1").toLowerCase()),rv=rv||cs.length?rv:cs[prop]):element.currentStyle&&(rv=element.currentStyle[prop]),"auto"!==rv||"top"!==prop&&"left"!==prop||(rv=_calculateOffset(element,prop)),keepUnits?rv:parseFloat(rv)||0)},_dispatchEvent=function(instance,type,callbackName){var vars=instance.vars,callback=vars[callbackName],listeners=instance._listeners[type];"function"==typeof callback&&callback.apply(vars[callbackName+"Scope"]||vars.callbackScope||instance,vars[callbackName+"Params"]||[instance.pointerEvent]),listeners&&instance.dispatchEvent(type)},_getBounds=function(obj,context){var top,left,offset,e=_unwrapElement(obj);return e?_getElementBounds(e,context):void 0!==obj.left?(offset=_getOffsetTransformOrigin(context),{left:obj.left-offset.x,top:obj.top-offset.y,width:obj.width,height:obj.height}):(left=obj.min||obj.minX||obj.minRotation||0,top=obj.min||obj.minY||0,{left:left,top:top,width:(obj.max||obj.maxX||obj.maxRotation||0)-left,height:(obj.max||obj.maxY||0)-top})},_setEnvironmentVariables=function(){if(!_doc.createElementNS)return _svgBorderFactor=0,void(_svgBorderScales=!1);var matrix,e1,point,oldValue,div=_createElement("div"),svg=_doc.createElementNS("http://www.w3.org/2000/svg","svg"),wrapper=_createElement("div"),style=div.style,parent=_doc.body||_docElement;_doc.body&&_transformProp&&(style.position="absolute",parent.appendChild(wrapper),wrapper.appendChild(div),oldValue=div.offsetParent,wrapper.style[_transformProp]="rotate(1deg)",_hasReparentBug=div.offsetParent===oldValue,wrapper.style.position="absolute",style.height="10px",oldValue=div.offsetTop,wrapper.style.border="5px solid red",_hasBorderBug=oldValue!==div.offsetTop,parent.removeChild(wrapper)),style=svg.style,svg.setAttributeNS(null,"width","400px"),svg.setAttributeNS(null,"height","400px"),svg.setAttributeNS(null,"viewBox","0 0 400 400"),style.display="block",style.boxSizing="border-box",style.border="0px solid red",style.transform="none",div.style.cssText="width:100px;height:100px;overflow:scroll;-ms-overflow-style:none;",parent.appendChild(div),div.appendChild(svg),point=svg.createSVGPoint().matrixTransform(svg.getScreenCTM()),e1=point.y,div.scrollTop=100,point.x=point.y=0,point=point.matrixTransform(svg.getScreenCTM()),_svgScrollOffset=e1-point.y<100.1?0:e1-point.y-150,div.removeChild(svg),parent.removeChild(div),parent.appendChild(svg),matrix=svg.getScreenCTM(),e1=matrix.e,style.border="50px solid red",matrix=svg.getScreenCTM(),0===e1&&0===matrix.e&&0===matrix.f&&1===matrix.a?(_svgBorderFactor=1,_svgBorderScales=!0):(_svgBorderFactor=e1!==matrix.e?1:0,_svgBorderScales=1!==matrix.a),parent.removeChild(svg)},_supports3D=""!==_checkPrefix(_tempDiv,"perspective"),_transformOriginProp=_checkPrefix(_tempDiv,"transformOrigin").replace(/^ms/g,"Ms").replace(/([A-Z])/g,"-$1").toLowerCase(),_transformProp=_checkPrefix(_tempDiv,"transform"),_transformPropCSS=_transformProp.replace(/^ms/g,"Ms").replace(/([A-Z])/g,"-$1").toLowerCase(),_point1={},_point2={},_SVGElement=window.SVGElement,_isSVG=function(e){return!!(_SVGElement&&"function"==typeof e.getBBox&&e.getCTM&&(!e.parentNode||e.parentNode.getBBox&&e.parentNode.getCTM))},_isIE10orBelow=(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(navigator.userAgent)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(navigator.userAgent))&&parseFloat(RegExp.$1)<11,_tempTransforms=[],_tempElements=[],_getSVGOffsets=function(e){if(!e.getBoundingClientRect||!e.parentNode||!_transformProp)return{offsetTop:0,offsetLeft:0,scaleX:1,scaleY:1,offsetParent:_docElement};if(Draggable.cacheSVGData!==!1&&e._gsCache&&e._gsCache.lastUpdate===TweenLite.ticker.frame)return e._gsCache;var eRect,parentRect,offsetParent,cs,m,i,point1,point2,borderWidth,borderHeight,width,height,curElement=e,cache=_cache(e);if(cache.lastUpdate=TweenLite.ticker.frame,e.getBBox&&!cache.isSVGRoot){for(curElement=e.parentNode,eRect=e.getBBox();curElement&&"svg"!==(curElement.nodeName+"").toLowerCase();)curElement=curElement.parentNode;return cs=_getSVGOffsets(curElement),cache.offsetTop=eRect.y*cs.scaleY,cache.offsetLeft=eRect.x*cs.scaleX,cache.scaleX=cs.scaleX,cache.scaleY=cs.scaleY,cache.offsetParent=curElement||_docElement,cache}for(offsetParent=cache.offsetParent,offsetParent===_doc.body&&(offsetParent=_docElement),_tempElements.length=_tempTransforms.length=0;curElement&&(m=_getStyle(curElement,_transformProp,!0),"matrix(1, 0, 0, 1, 0, 0)"!==m&&"none"!==m&&"translate3d(0px, 0px, 0px)"!==m&&(_tempElements.push(curElement),_tempTransforms.push(curElement.style[_transformProp]),curElement.style[_transformProp]="none"),curElement!==offsetParent);)curElement=curElement.parentNode;for(parentRect=offsetParent.getBoundingClientRect(),m=e.getScreenCTM(),point2=e.createSVGPoint(),point1=point2.matrixTransform(m),point2.x=point2.y=10,point2=point2.matrixTransform(m),cache.scaleX=(point2.x-point1.x)/10,cache.scaleY=(point2.y-point1.y)/10,void 0===_svgBorderFactor&&_setEnvironmentVariables(),cache.borderBox&&!_svgBorderScales&&e.getAttribute("width")&&(cs=_getComputedStyle(e)||{},borderWidth=parseFloat(cs.borderLeftWidth)+parseFloat(cs.borderRightWidth)||0,borderHeight=parseFloat(cs.borderTopWidth)+parseFloat(cs.borderBottomWidth)||0,width=parseFloat(cs.width)||0,height=parseFloat(cs.height)||0,cache.scaleX*=(width-borderWidth)/width,cache.scaleY*=(height-borderHeight)/height),_svgScrollOffset?(eRect=e.getBoundingClientRect(),cache.offsetLeft=eRect.left-parentRect.left,cache.offsetTop=eRect.top-parentRect.top):(cache.offsetLeft=point1.x-parentRect.left,cache.offsetTop=point1.y-parentRect.top),cache.offsetParent=offsetParent,i=_tempElements.length;--i>-1;)_tempElements[i].style[_transformProp]=_tempTransforms[i];return cache},_getOffsetTransformOrigin=function(e,decoratee){if(decoratee=decoratee||{},!e||e===_docElement||!e.parentNode||e===window)return{x:0,y:0};var cs=_getComputedStyle(e),v=_transformOriginProp&&cs?cs.getPropertyValue(_transformOriginProp):"50% 50%",a=v.split(" "),x=-1!==v.indexOf("left")?"0%":-1!==v.indexOf("right")?"100%":a[0],y=-1!==v.indexOf("top")?"0%":-1!==v.indexOf("bottom")?"100%":a[1];return("center"===y||null==y)&&(y="50%"),("center"===x||isNaN(parseFloat(x)))&&(x="50%"),e.getBBox&&_isSVG(e)?(e._gsTransform||(TweenLite.set(e,{x:"+=0",overwrite:!1}),void 0===e._gsTransform.xOrigin&&console.log("Draggable requires at least GSAP 1.17.0")),v=e.getBBox(),decoratee.x=e._gsTransform.xOrigin-v.x,decoratee.y=e._gsTransform.yOrigin-v.y):(e.getBBox&&-1!==(x+y).indexOf("%")&&(e=e.getBBox(),e={offsetWidth:e.width,offsetHeight:e.height}),decoratee.x=-1!==x.indexOf("%")?e.offsetWidth*parseFloat(x)/100:parseFloat(x),decoratee.y=-1!==y.indexOf("%")?e.offsetHeight*parseFloat(y)/100:parseFloat(y)),decoratee},_cache=function(e){if(Draggable.cacheSVGData!==!1&&e._gsCache&&e._gsCache.lastUpdate===TweenLite.ticker.frame)return e._gsCache;var curSVG,cache=e._gsCache=e._gsCache||{},cs=_getComputedStyle(e),isSVG=e.getBBox&&_isSVG(e),isSVGRoot="svg"===(e.nodeName+"").toLowerCase();if(cache.isSVG=isSVG,cache.isSVGRoot=isSVGRoot,cache.borderBox="border-box"===cs.boxSizing,cache.computedStyle=cs,isSVGRoot)curSVG=e.parentNode||_docElement,curSVG.insertBefore(_tempDiv,e),cache.offsetParent=_tempDiv.offsetParent||_docElement,curSVG.removeChild(_tempDiv);else if(isSVG){for(curSVG=e.parentNode;curSVG&&"svg"!==(curSVG.nodeName+"").toLowerCase();)curSVG=curSVG.parentNode;cache.offsetParent=curSVG}else cache.offsetParent=e.offsetParent;return cache},_getOffset2DMatrix=function(e,offsetOrigin,parentOffsetOrigin,zeroOrigin){if(e===window||!e||!e.style||!e.parentNode)return[1,0,0,1,0,0];var m,isRoot,offsets,rect,t,sx,sy,offsetX,offsetY,parentRect,borderTop,borderLeft,borderTranslateX,borderTranslateY,cache=e._gsCache||_cache(e),parent=e.parentNode,parentCache=parent._gsCache||_cache(parent),cs=cache.computedStyle,parentOffsetParent=cache.isSVG?parentCache.offsetParent:parent.offsetParent;return m=cache.isSVG&&-1!==(e.style[_transformProp]+"").indexOf("matrix")?e.style[_transformProp]:cs?cs.getPropertyValue(_transformPropCSS):e.currentStyle?e.currentStyle[_transformProp]:"1,0,0,1,0,0",e.getBBox&&-1!==(e.getAttribute("transform")+"").indexOf("matrix")&&(m=e.getAttribute("transform")),m=(m+"").match(/(?:\-|\.|\b)(\d|\.|e\-)+/g)||[1,0,0,1,0,0],m.length>6&&(m=[m[0],m[1],m[4],m[5],m[12],m[13]]),zeroOrigin?m[4]=m[5]=0:cache.isSVG&&(t=e._gsTransform)&&(t.xOrigin||t.yOrigin)&&(m[0]=parseFloat(m[0]),m[1]=parseFloat(m[1]),m[2]=parseFloat(m[2]),m[3]=parseFloat(m[3]),m[4]=parseFloat(m[4])-(t.xOrigin-(t.xOrigin*m[0]+t.yOrigin*m[2])),m[5]=parseFloat(m[5])-(t.yOrigin-(t.xOrigin*m[1]+t.yOrigin*m[3]))),offsetOrigin&&(void 0===_svgBorderFactor&&_setEnvironmentVariables(),offsets=cache.isSVG||cache.isSVGRoot?_getSVGOffsets(e):e,cache.isSVG?(rect=e.getBBox(),parentRect=parentCache.isSVGRoot?{x:0,y:0}:parent.getBBox(),offsets={offsetLeft:rect.x-parentRect.x,offsetTop:rect.y-parentRect.y,offsetParent:cache.offsetParent}):cache.isSVGRoot?(borderTop=parseInt(cs.borderTopWidth,10)||0,borderLeft=parseInt(cs.borderLeftWidth,10)||0,borderTranslateX=(m[0]-_svgBorderFactor)*borderLeft+m[2]*borderTop,borderTranslateY=m[1]*borderLeft+(m[3]-_svgBorderFactor)*borderTop,sx=offsetOrigin.x,sy=offsetOrigin.y,offsetX=sx-(sx*m[0]+sy*m[2]),offsetY=sy-(sx*m[1]+sy*m[3]),m[4]=parseFloat(m[4])+offsetX,m[5]=parseFloat(m[5])+offsetY,offsetOrigin.x-=offsetX,offsetOrigin.y-=offsetY,sx=offsets.scaleX,sy=offsets.scaleY,offsetOrigin.x*=sx,offsetOrigin.y*=sy,m[0]*=sx,m[1]*=sy,m[2]*=sx,m[3]*=sy,_isIE10orBelow||(offsetOrigin.x+=borderTranslateX,offsetOrigin.y+=borderTranslateY)):!_hasBorderBug&&e.offsetParent&&(offsetOrigin.x+=parseInt(_getStyle(e.offsetParent,"borderLeftWidth"),10)||0,offsetOrigin.y+=parseInt(_getStyle(e.offsetParent,"borderTopWidth"),10)||0),isRoot=parent===_docElement||parent===_doc.body,m[4]=Number(m[4])+offsetOrigin.x+(offsets.offsetLeft||0)-parentOffsetOrigin.x-(isRoot?0:parent.scrollLeft||0),m[5]=Number(m[5])+offsetOrigin.y+(offsets.offsetTop||0)-parentOffsetOrigin.y-(isRoot?0:parent.scrollTop||0),parent&&"fixed"===_getStyle(e,"position",cs)&&(m[4]+=_getDocScrollLeft(),m[5]+=_getDocScrollTop()),!parent||parent===_docElement||parentOffsetParent!==offsets.offsetParent||parentCache.isSVG||_hasReparentBug&&"100100"!==_getOffset2DMatrix(parent).join("")||(offsets=parentCache.isSVGRoot?_getSVGOffsets(parent):parent,m[4]-=offsets.offsetLeft||0,m[5]-=offsets.offsetTop||0,_hasBorderBug||!parentCache.offsetParent||cache.isSVG||cache.isSVGRoot||(m[4]-=parseInt(_getStyle(parentCache.offsetParent,"borderLeftWidth"),10)||0,m[5]-=parseInt(_getStyle(parentCache.offsetParent,"borderTopWidth"),10)||0))),m},_getConcatenatedMatrix=function(e,invert){if(!e||e===window||!e.parentNode)return[1,0,0,1,0,0];for(var a,b,c,d,tx,ty,m2,determinant,originOffset=_getOffsetTransformOrigin(e,_point1),parentOriginOffset=_getOffsetTransformOrigin(e.parentNode,_point2),m=_getOffset2DMatrix(e,originOffset,parentOriginOffset);(e=e.parentNode)&&e.parentNode&&e!==_docElement;)originOffset=parentOriginOffset,parentOriginOffset=_getOffsetTransformOrigin(e.parentNode,originOffset===_point1?_point2:_point1),m2=_getOffset2DMatrix(e,originOffset,parentOriginOffset),a=m[0],b=m[1],c=m[2],d=m[3],tx=m[4],ty=m[5],m[0]=a*m2[0]+b*m2[2],m[1]=a*m2[1]+b*m2[3],m[2]=c*m2[0]+d*m2[2],m[3]=c*m2[1]+d*m2[3],m[4]=tx*m2[0]+ty*m2[2]+m2[4],m[5]=tx*m2[1]+ty*m2[3]+m2[5];return invert&&(a=m[0],b=m[1],c=m[2],d=m[3],tx=m[4],ty=m[5],determinant=a*d-b*c,m[0]=d/determinant,m[1]=-b/determinant,m[2]=-c/determinant,m[3]=a/determinant,m[4]=(c*ty-d*tx)/determinant,m[5]=-(a*ty-b*tx)/determinant),m},_localToGlobal=function(e,p,fromTopLeft,decoratee,zeroOrigin){e=_unwrapElement(e);var m=_getConcatenatedMatrix(e,!1,zeroOrigin),x=p.x,y=p.y;return fromTopLeft&&(_getOffsetTransformOrigin(e,p),x-=p.x,y-=p.y),decoratee=decoratee===!0?p:decoratee||{},decoratee.x=x*m[0]+y*m[2]+m[4],decoratee.y=x*m[1]+y*m[3]+m[5],decoratee},_localizePoint=function(p,localToGlobal,globalToLocal){var x=p.x*localToGlobal[0]+p.y*localToGlobal[2]+localToGlobal[4],y=p.x*localToGlobal[1]+p.y*localToGlobal[3]+localToGlobal[5];return p.x=x*globalToLocal[0]+y*globalToLocal[2]+globalToLocal[4],p.y=x*globalToLocal[1]+y*globalToLocal[3]+globalToLocal[5],p},_getElementBounds=function(e,context,fromTopLeft){if(!(e=_unwrapElement(e)))return null;context=_unwrapElement(context);var origin,left,right,top,bottom,mLocalToGlobal,mGlobalToLocal,p1,p2,p3,p4,bbox,width,height,cache,borderLeft,borderTop,viewBox,viewBoxX,viewBoxY,computedDimensions,cs,isSVG=e.getBBox&&_isSVG(e);if(e===window)top=_getDocScrollTop(),left=_getDocScrollLeft(),right=left+(_docElement.clientWidth||e.innerWidth||_doc.body.clientWidth||0),bottom=top+((e.innerHeight||0)-20<_docElement.clientHeight?_docElement.clientHeight:e.innerHeight||_doc.body.clientHeight||0);else{if(void 0===context||context===window)return e.getBoundingClientRect();origin=_getOffsetTransformOrigin(e),left=-origin.x,top=-origin.y,isSVG?(bbox=e.getBBox(),width=bbox.width,height=bbox.height):"svg"!==(e.nodeName+"").toLowerCase()&&e.offsetWidth?(width=e.offsetWidth,height=e.offsetHeight):(computedDimensions=_getComputedStyle(e),width=parseFloat(computedDimensions.width),height=parseFloat(computedDimensions.height)),right=left+width,bottom=top+height,"svg"!==e.nodeName.toLowerCase()||_isOldIE||(cache=_getSVGOffsets(e),cs=cache.computedStyle||{},viewBox=(e.getAttribute("viewBox")||"0 0").split(" "),viewBoxX=parseFloat(viewBox[0]),viewBoxY=parseFloat(viewBox[1]),borderLeft=parseFloat(cs.borderLeftWidth)||0,borderTop=parseFloat(cs.borderTopWidth)||0,right-=width-(width-borderLeft)/cache.scaleX-viewBoxX,bottom-=height-(height-borderTop)/cache.scaleY-viewBoxY,left-=borderLeft/cache.scaleX-viewBoxX,top-=borderTop/cache.scaleY-viewBoxY,computedDimensions&&(right+=(parseFloat(cs.borderRightWidth)+borderLeft)/cache.scaleX,bottom+=(borderTop+parseFloat(cs.borderBottomWidth))/cache.scaleY))}return e===context?{left:left,top:top,width:right-left,height:bottom-top}:(mLocalToGlobal=_getConcatenatedMatrix(e),mGlobalToLocal=_getConcatenatedMatrix(context,!0),p1=_localizePoint({x:left,y:top},mLocalToGlobal,mGlobalToLocal),p2=_localizePoint({x:right,y:top},mLocalToGlobal,mGlobalToLocal),p3=_localizePoint({x:right,y:bottom},mLocalToGlobal,mGlobalToLocal),p4=_localizePoint({x:left,y:bottom},mLocalToGlobal,mGlobalToLocal),left=Math.min(p1.x,p2.x,p3.x,p4.x),top=Math.min(p1.y,p2.y,p3.y,p4.y),_temp1.x=_temp1.y=0,fromTopLeft&&_getOffsetTransformOrigin(context,_temp1),{left:left+_temp1.x,top:top+_temp1.y,width:Math.max(p1.x,p2.x,p3.x,p4.x)-left,height:Math.max(p1.y,p2.y,p3.y,p4.y)-top})},_isArrayLike=function(e){return e&&e.length&&e[0]&&(e[0].nodeType&&e[0].style&&!e.nodeType||e[0].length&&e[0][0])?!0:!1},_flattenArray=function(a){var i,e,j,result=[],l=a.length;for(i=0;l>i;i++)if(e=a[i],_isArrayLike(e))for(j=e.length,j=0;j<e.length;j++)result.push(e[j]);else e&&0!==e.length&&result.push(e);return result},_isTouchDevice="ontouchstart"in _docElement&&"orientation"in window,_touchEventLookup=function(types){for(var standard=types.split(","),converted=(void 0!==_tempDiv.onpointerdown?"pointerdown,pointermove,pointerup,pointercancel":void 0!==_tempDiv.onmspointerdown?"MSPointerDown,MSPointerMove,MSPointerUp,MSPointerCancel":types).split(","),obj={},i=8;--i>-1;)obj[standard[i]]=converted[i],obj[converted[i]]=standard[i];return obj}("touchstart,touchmove,touchend,touchcancel"),_addListener=function(element,type,func,capture){element.addEventListener?element.addEventListener(_touchEventLookup[type]||type,func,capture):element.attachEvent&&element.attachEvent("on"+type,func)},_removeListener=function(element,type,func){element.removeEventListener?element.removeEventListener(_touchEventLookup[type]||type,func):element.detachEvent&&element.detachEvent("on"+type,func)},_hasTouchID=function(list,ID){for(var i=list.length;--i>-1;)if(list[i].identifier===ID)return!0;return!1},_onMultiTouchDocumentEnd=function(e){_isMultiTouching=e.touches&&_dragCount<e.touches.length,_removeListener(e.target,"touchend",_onMultiTouchDocumentEnd)},_onMultiTouchDocument=function(e){_isMultiTouching=e.touches&&_dragCount<e.touches.length,_addListener(e.target,"touchend",_onMultiTouchDocumentEnd)},_parseThrowProps=function(draggable,snap,max,min,factor,forceZeroVelocity){var a,i,l,vars={};if(snap)if(1!==factor&&snap instanceof Array){for(vars.end=a=[],l=snap.length,i=0;l>i;i++)a[i]=snap[i]*factor;max+=1.1,min-=1.1}else vars.end="function"==typeof snap?function(value){return snap.call(draggable,value)*factor}:snap;return(max||0===max)&&(vars.max=max),(min||0===min)&&(vars.min=min),forceZeroVelocity&&(vars.velocity=0),vars},_isClickable=function(e){var data;return e&&e.getAttribute&&"BODY"!==e.nodeName?"true"===(data=e.getAttribute("data-clickable"))||"false"!==data&&(e.onclick||_clickableTagExp.test(e.nodeName+"")||"true"===e.getAttribute("contentEditable"))?!0:_isClickable(e.parentNode):!1},_setSelectable=function(elements,selectable){for(var e,i=elements.length;--i>-1;)e=elements[i],e.ondragstart=e.onselectstart=selectable?null:_emptyFunc,_setStyle(e,"userSelect",selectable?"text":"none")},_addPaddingLeft=function(){var val,div=_doc.createElement("div"),child=_doc.createElement("div"),childStyle=child.style,parent=_doc.body||_tempDiv;return childStyle.display="inline-block",childStyle.position="relative",div.style.cssText=child.innerHTML="width:90px; height:40px; padding:10px; overflow:auto; visibility: hidden",div.appendChild(child),parent.appendChild(div),_addPaddingBR=child.offsetHeight+18>div.scrollHeight,childStyle.width="100%",_transformProp||(childStyle.paddingRight="500px",val=div.scrollLeft=div.scrollWidth-div.clientWidth,childStyle.left="-90px",val=val!==div.scrollLeft),parent.removeChild(div),val}(),ScrollProxy=function(element,vars){element=_unwrapElement(element),vars=vars||{};var elementWidth,elementHeight,contentHeight,nextNode,transformStart,transformEnd,content=_doc.createElement("div"),style=content.style,node=element.firstChild,offsetTop=0,offsetLeft=0,prevTop=element.scrollTop,prevLeft=element.scrollLeft,scrollWidth=element.scrollWidth,scrollHeight=element.scrollHeight,extraPadRight=0,maxLeft=0,maxTop=0;_supports3D&&vars.force3D!==!1?(transformStart="translate3d(",transformEnd="px,0px)"):_transformProp&&(transformStart="translate(",transformEnd="px)"),this.scrollTop=function(value,force){return arguments.length?void this.top(-value,force):-this.top()},this.scrollLeft=function(value,force){return arguments.length?void this.left(-value,force):-this.left()},this.left=function(value,force){if(!arguments.length)return-(element.scrollLeft+offsetLeft);var dif=element.scrollLeft-prevLeft,oldOffset=offsetLeft;return(dif>2||-2>dif)&&!force?(prevLeft=element.scrollLeft,TweenLite.killTweensOf(this,!0,{left:1,scrollLeft:1}),this.left(-prevLeft),void(vars.onKill&&vars.onKill())):(value=-value,0>value?(offsetLeft=value-.5|0,value=0):value>maxLeft?(offsetLeft=value-maxLeft|0,value=maxLeft):offsetLeft=0,(offsetLeft||oldOffset)&&(transformStart?this._suspendTransforms||(style[_transformProp]=transformStart+-offsetLeft+"px,"+-offsetTop+transformEnd):style.left=-offsetLeft+"px",_addPaddingLeft&&offsetLeft+extraPadRight>=0&&(style.paddingRight=offsetLeft+extraPadRight+"px")),element.scrollLeft=0|value,void(prevLeft=element.scrollLeft))},this.top=function(value,force){if(!arguments.length)return-(element.scrollTop+offsetTop);var dif=element.scrollTop-prevTop,oldOffset=offsetTop;return(dif>2||-2>dif)&&!force?(prevTop=element.scrollTop,TweenLite.killTweensOf(this,!0,{top:1,scrollTop:1}),this.top(-prevTop),void(vars.onKill&&vars.onKill())):(value=-value,0>value?(offsetTop=value-.5|0,value=0):value>maxTop?(offsetTop=value-maxTop|0,value=maxTop):offsetTop=0,(offsetTop||oldOffset)&&(transformStart?this._suspendTransforms||(style[_transformProp]=transformStart+-offsetLeft+"px,"+-offsetTop+transformEnd):style.top=-offsetTop+"px"),element.scrollTop=0|value,void(prevTop=element.scrollTop))},this.maxScrollTop=function(){return maxTop},this.maxScrollLeft=function(){return maxLeft},this.disable=function(){for(node=content.firstChild;node;)nextNode=node.nextSibling,element.appendChild(node),node=nextNode;element===content.parentNode&&element.removeChild(content)},this.enable=function(){if(node=element.firstChild,node!==content){for(;node;)nextNode=node.nextSibling,content.appendChild(node),node=nextNode;element.appendChild(content),this.calibrate()}},this.calibrate=function(force){var x,y,widthMatches=element.clientWidth===elementWidth;prevTop=element.scrollTop,prevLeft=element.scrollLeft,(!widthMatches||element.clientHeight!==elementHeight||content.offsetHeight!==contentHeight||scrollWidth!==element.scrollWidth||scrollHeight!==element.scrollHeight||force)&&((offsetTop||offsetLeft)&&(x=this.left(),y=this.top(),this.left(-element.scrollLeft),this.top(-element.scrollTop)),(!widthMatches||force)&&(style.display="block",style.width="auto",style.paddingRight="0px",extraPadRight=Math.max(0,element.scrollWidth-element.clientWidth),extraPadRight&&(extraPadRight+=_getStyle(element,"paddingLeft")+(_addPaddingBR?_getStyle(element,"paddingRight"):0))),style.display="inline-block",style.position="relative",style.overflow="visible",style.verticalAlign="top",style.width="100%",style.paddingRight=extraPadRight+"px",_addPaddingBR&&(style.paddingBottom=_getStyle(element,"paddingBottom",!0)),_isOldIE&&(style.zoom="1"),elementWidth=element.clientWidth,elementHeight=element.clientHeight,scrollWidth=element.scrollWidth,scrollHeight=element.scrollHeight,maxLeft=element.scrollWidth-elementWidth,maxTop=element.scrollHeight-elementHeight,contentHeight=content.offsetHeight,style.display="block",(x||y)&&(this.left(x),this.top(y)))},this.content=content,this.element=element,this._suspendTransforms=!1,this.enable()},Draggable=function(target,vars){EventDispatcher.call(this,target),target=_unwrapElement(target),ThrowPropsPlugin||(ThrowPropsPlugin=_globals.com.greensock.plugins.ThrowPropsPlugin),this.vars=vars=_copy(vars||{}),this.target=target,this.x=this.y=this.rotation=0,this.dragResistance=parseFloat(vars.dragResistance)||0,this.edgeResistance=isNaN(vars.edgeResistance)?1:parseFloat(vars.edgeResistance)||0,this.lockAxis=vars.lockAxis,this.autoScroll=vars.autoScroll||0,this.lockedAxis=null,this.allowEventDefault=!!vars.allowEventDefault;var enabled,scrollProxy,startPointerX,startPointerY,startElementX,startElementY,hasBounds,hasDragCallback,maxX,minX,maxY,minY,tempVars,cssVars,touch,touchID,rotationOrigin,dirty,old,snapX,snapY,isClicking,touchEventTarget,matrix,interrupted,startScrollTop,startScrollLeft,applyObj,allowNativeTouchScrolling,touchDragAxis,isDispatching,clickDispatch,trustedClickDispatch,type=(vars.type||(_isOldIE?"top,left":"x,y")).toLowerCase(),xyMode=-1!==type.indexOf("x")||-1!==type.indexOf("y"),rotationMode=-1!==type.indexOf("rotation"),xProp=rotationMode?"rotation":xyMode?"x":"left",yProp=xyMode?"y":"top",allowX=-1!==type.indexOf("x")||-1!==type.indexOf("left")||"scroll"===type,allowY=-1!==type.indexOf("y")||-1!==type.indexOf("top")||"scroll"===type,minimumMovement=vars.minimumMovement||2,self=this,triggers=_slice(vars.trigger||vars.handle||target),killProps={},dragEndTime=0,checkAutoScrollBounds=!1,isClickable=vars.clickableTest||_isClickable,clickTime=0,render=function(suppressEvents){if(self.autoScroll&&self.isDragging&&(checkAutoScrollBounds||dirty)){var parent,isRoot,rect,pointerX,pointerY,changeX,changeY,gap,e=target,autoScrollFactor=15*self.autoScroll;for(checkAutoScrollBounds=!1,_windowProxy.scrollTop=null!=window.pageYOffset?window.pageYOffset:null!=_docElement.scrollTop?_docElement.scrollTop:_doc.body.scrollTop,_windowProxy.scrollLeft=null!=window.pageXOffset?window.pageXOffset:null!=_docElement.scrollLeft?_docElement.scrollLeft:_doc.body.scrollLeft,pointerX=self.pointerX-_windowProxy.scrollLeft,pointerY=self.pointerY-_windowProxy.scrollTop;e&&!isRoot;)isRoot=_isRoot(e.parentNode),parent=isRoot?_windowProxy:e.parentNode,rect=isRoot?{bottom:Math.max(_docElement.clientHeight,window.innerHeight||0),right:Math.max(_docElement.clientWidth,window.innerWidth||0),left:0,top:0}:parent.getBoundingClientRect(),changeX=changeY=0,allowY&&(gap=parent._gsMaxScrollY-parent.scrollTop,0>gap?changeY=gap:pointerY>rect.bottom-40&&gap?(checkAutoScrollBounds=!0,changeY=Math.min(gap,autoScrollFactor*(1-Math.max(0,rect.bottom-pointerY)/40)|0)):pointerY<rect.top+40&&parent.scrollTop&&(checkAutoScrollBounds=!0,changeY=-Math.min(parent.scrollTop,autoScrollFactor*(1-Math.max(0,pointerY-rect.top)/40)|0)),changeY&&(parent.scrollTop+=changeY)),allowX&&(gap=parent._gsMaxScrollX-parent.scrollLeft,0>gap?changeX=gap:pointerX>rect.right-40&&gap?(checkAutoScrollBounds=!0,changeX=Math.min(gap,autoScrollFactor*(1-Math.max(0,rect.right-pointerX)/40)|0)):pointerX<rect.left+40&&parent.scrollLeft&&(checkAutoScrollBounds=!0,changeX=-Math.min(parent.scrollLeft,autoScrollFactor*(1-Math.max(0,pointerX-rect.left)/40)|0)),changeX&&(parent.scrollLeft+=changeX)),isRoot&&(changeX||changeY)&&(window.scrollTo(parent.scrollLeft,parent.scrollTop),setPointerPosition(self.pointerX+changeX,self.pointerY+changeY)),e=parent}if(dirty){var x=self.x,y=self.y,min=1e-6;min>x&&x>-min&&(x=0),min>y&&y>-min&&(y=0),rotationMode?(applyObj.data.rotation=self.rotation=x,applyObj.setRatio(1)):scrollProxy?(allowY&&scrollProxy.top(y),allowX&&scrollProxy.left(x)):xyMode?(allowY&&(applyObj.data.y=y),allowX&&(applyObj.data.x=x),applyObj.setRatio(1)):(allowY&&(target.style.top=y+"px"),allowX&&(target.style.left=x+"px")),!hasDragCallback||suppressEvents||isDispatching||(isDispatching=!0,_dispatchEvent(self,"drag","onDrag"),isDispatching=!1)}dirty=!1},syncXY=function(skipOnUpdate,skipSnap){{var snappedValue;self.x,self.y}target._gsTransform||!xyMode&&!rotationMode||TweenLite.set(target,{x:"+=0",overwrite:!1}),xyMode?(self.y=target._gsTransform.y,self.x=target._gsTransform.x):rotationMode?self.x=self.rotation=target._gsTransform.rotation:scrollProxy?(self.y=scrollProxy.top(),self.x=scrollProxy.left()):(self.y=parseInt(target.style.top,10)||0,self.x=parseInt(target.style.left,10)||0),!snapX&&!snapY||skipSnap||(snapX&&(snappedValue=snapX(self.x),snappedValue!==self.x&&(self.x=snappedValue,rotationMode&&(self.rotation=snappedValue),dirty=!0)),snapY&&(snappedValue=snapY(self.y),snappedValue!==self.y&&(self.y=snappedValue),dirty=!0)),dirty&&render(!0),skipOnUpdate||_dispatchEvent(self,"throwupdate","onThrowUpdate")
},calculateBounds=function(){var bounds,targetBounds,snap,snapIsRaw;hasBounds=!1,scrollProxy?(scrollProxy.calibrate(),self.minX=minX=-scrollProxy.maxScrollLeft(),self.minY=minY=-scrollProxy.maxScrollTop(),self.maxX=maxX=self.maxY=maxY=0,hasBounds=!0):vars.bounds&&(bounds=_getBounds(vars.bounds,target.parentNode),rotationMode?(self.minX=minX=bounds.left,self.maxX=maxX=bounds.left+bounds.width,self.minY=minY=self.maxY=maxY=0):void 0!==vars.bounds.maxX||void 0!==vars.bounds.maxY?(bounds=vars.bounds,self.minX=minX=bounds.minX,self.minY=minY=bounds.minY,self.maxX=maxX=bounds.maxX,self.maxY=maxY=bounds.maxY):(targetBounds=_getBounds(target,target.parentNode),self.minX=minX=_getStyle(target,xProp)+bounds.left-targetBounds.left,self.minY=minY=_getStyle(target,yProp)+bounds.top-targetBounds.top,self.maxX=maxX=minX+(bounds.width-targetBounds.width),self.maxY=maxY=minY+(bounds.height-targetBounds.height)),minX>maxX&&(self.minX=maxX,self.maxX=maxX=minX,minX=self.minX),minY>maxY&&(self.minY=maxY,self.maxY=maxY=minY,minY=self.minY),rotationMode&&(self.minRotation=minX,self.maxRotation=maxX),hasBounds=!0),vars.liveSnap&&(snap=vars.liveSnap===!0?vars.snap||{}:vars.liveSnap,snapIsRaw=snap instanceof Array||"function"==typeof snap,rotationMode?(snapX=buildSnapFunc(snapIsRaw?snap:snap.rotation,minX,maxX,1),snapY=null):(allowX&&(snapX=buildSnapFunc(snapIsRaw?snap:snap.x||snap.left||snap.scrollLeft,minX,maxX,scrollProxy?-1:1)),allowY&&(snapY=buildSnapFunc(snapIsRaw?snap:snap.y||snap.top||snap.scrollTop,minY,maxY,scrollProxy?-1:1))))},onThrowComplete=function(){self.isThrowing=!1,_dispatchEvent(self,"throwcomplete","onThrowComplete")},onThrowOverwrite=function(){self.isThrowing=!1},animate=function(throwProps,forceZeroVelocity){var snap,snapIsRaw,tween,overshootTolerance;throwProps&&ThrowPropsPlugin?(throwProps===!0&&(snap=vars.snap||{},snapIsRaw=snap instanceof Array||"function"==typeof snap,throwProps={resistance:(vars.throwResistance||vars.resistance||1e3)/(rotationMode?10:1)},rotationMode?throwProps.rotation=_parseThrowProps(self,snapIsRaw?snap:snap.rotation,maxX,minX,1,forceZeroVelocity):(allowX&&(throwProps[xProp]=_parseThrowProps(self,snapIsRaw?snap:snap.x||snap.left||snap.scrollLeft,maxX,minX,scrollProxy?-1:1,forceZeroVelocity||"x"===self.lockedAxis)),allowY&&(throwProps[yProp]=_parseThrowProps(self,snapIsRaw?snap:snap.y||snap.top||snap.scrollTop,maxY,minY,scrollProxy?-1:1,forceZeroVelocity||"y"===self.lockedAxis)))),self.isThrowing=!0,overshootTolerance=isNaN(vars.overshootTolerance)?1===vars.edgeResistance?0:1-self.edgeResistance+.2:vars.overshootTolerance,self.tween=tween=ThrowPropsPlugin.to(scrollProxy||target,{throwProps:throwProps,ease:vars.ease||_globals.Power3.easeOut,onComplete:onThrowComplete,onOverwrite:onThrowOverwrite,onUpdate:vars.fastMode?_dispatchEvent:syncXY,onUpdateParams:vars.fastMode?[self,"onthrowupdate","onThrowUpdate"]:_emptyArray},isNaN(vars.maxDuration)?2:vars.maxDuration,isNaN(vars.minDuration)?0===overshootTolerance?0:.5:vars.minDuration,overshootTolerance),vars.fastMode||(scrollProxy&&(scrollProxy._suspendTransforms=!0),tween.render(tween.duration(),!0,!0),syncXY(!0,!0),self.endX=self.x,self.endY=self.y,rotationMode&&(self.endRotation=self.x),tween.play(0),syncXY(!0,!0),scrollProxy&&(scrollProxy._suspendTransforms=!1))):hasBounds&&self.applyBounds()},updateMatrix=function(shiftStart){var a,b,c,d,tx,ty,determinant,pointerX,pointerY,start=matrix||[1,0,0,1,0,0];matrix=_getConcatenatedMatrix(target.parentNode,!0),shiftStart&&self.isPressed&&start.join(",")!==matrix.join(",")&&(a=start[0],b=start[1],c=start[2],d=start[3],tx=start[4],ty=start[5],determinant=a*d-b*c,pointerX=startPointerX*(d/determinant)+startPointerY*(-c/determinant)+(c*ty-d*tx)/determinant,pointerY=startPointerX*(-b/determinant)+startPointerY*(a/determinant)+-(a*ty-b*tx)/determinant,startPointerY=pointerX*matrix[1]+pointerY*matrix[3]+matrix[5],startPointerX=pointerX*matrix[0]+pointerY*matrix[2]+matrix[4]),matrix[1]||matrix[2]||1!=matrix[0]||1!=matrix[3]||0!=matrix[4]||0!=matrix[5]||(matrix=null)},recordStartPositions=function(){var edgeTolerance=1-self.edgeResistance;updateMatrix(!1),matrix&&(startPointerX=self.pointerX*matrix[0]+self.pointerY*matrix[2]+matrix[4],startPointerY=self.pointerX*matrix[1]+self.pointerY*matrix[3]+matrix[5]),dirty&&(setPointerPosition(self.pointerX,self.pointerY),render(!0)),scrollProxy?(calculateBounds(),startElementY=scrollProxy.top(),startElementX=scrollProxy.left()):(isTweening()?(syncXY(!0,!0),calculateBounds()):self.applyBounds(),rotationMode?(rotationOrigin=_localToGlobal(target,{x:0,y:0}),syncXY(!0,!0),startElementX=self.x,startElementY=self.y=Math.atan2(rotationOrigin.y-self.pointerY,self.pointerX-rotationOrigin.x)*_RAD2DEG):(startScrollTop=target.parentNode?target.parentNode.scrollTop||0:0,startScrollLeft=target.parentNode?target.parentNode.scrollLeft||0:0,startElementY=_getStyle(target,yProp),startElementX=_getStyle(target,xProp))),hasBounds&&edgeTolerance&&(startElementX>maxX?startElementX=maxX+(startElementX-maxX)/edgeTolerance:minX>startElementX&&(startElementX=minX-(minX-startElementX)/edgeTolerance),rotationMode||(startElementY>maxY?startElementY=maxY+(startElementY-maxY)/edgeTolerance:minY>startElementY&&(startElementY=minY-(minY-startElementY)/edgeTolerance)))},isTweening=function(){return self.tween&&self.tween.isActive()},removePlaceholder=function(){!_placeholderDiv.parentNode||isTweening()||self.isDragging||_placeholderDiv.parentNode.removeChild(_placeholderDiv)},buildSnapFunc=function(snap,min,max,factor){return"function"==typeof snap?function(n){var edgeTolerance=self.isPressed?1-self.edgeResistance:1;return snap.call(self,n>max?max+(n-max)*edgeTolerance:min>n?min+(n-min)*edgeTolerance:n)*factor}:snap instanceof Array?function(n){for(var val,dif,i=snap.length,closest=0,absDif=_max;--i>-1;)val=snap[i],dif=val-n,0>dif&&(dif=-dif),absDif>dif&&val>=min&&max>=val&&(closest=i,absDif=dif);return snap[closest]}:isNaN(snap)?function(n){return n}:function(){return snap*factor}},onPress=function(e){var i;if(!(!enabled||self.isPressed||!e||("mousedown"===e.type||"pointerdown"===e.type)&&_getTime()-clickTime<30&&_touchEventLookup[self.pointerEvent.type])){if(interrupted=isTweening(),self.pointerEvent=e,_touchEventLookup[e.type]?(touchEventTarget=-1!==e.type.indexOf("touch")?e.currentTarget||e.target:_doc,_addListener(touchEventTarget,"touchend",onRelease),_addListener(touchEventTarget,"touchmove",onMove),_addListener(touchEventTarget,"touchcancel",onRelease),_addListener(_doc,"touchstart",_onMultiTouchDocument)):(touchEventTarget=null,_addListener(_doc,"mousemove",onMove)),touchDragAxis=null,_addListener(_doc,"mouseup",onRelease),e&&e.target&&_addListener(e.target,"mouseup",onRelease),isClicking=isClickable.call(self,e.target)&&!vars.dragClickables)return _addListener(e.target,"change",onRelease),_dispatchEvent(self,"press","onPress"),void _setSelectable(triggers,!0);if(allowNativeTouchScrolling=!touchEventTarget||allowX===allowY||scrollProxy||self.vars.allowNativeTouchScrolling===!1?!1:allowX?"y":"x",_isOldIE?e=_populateIEEvent(e,!0):allowNativeTouchScrolling||self.allowEventDefault||(e.preventDefault(),e.preventManipulation&&e.preventManipulation()),e.changedTouches?(e=touch=e.changedTouches[0],touchID=e.identifier):e.pointerId?touchID=e.pointerId:touch=touchID=null,_dragCount++,_addToRenderQueue(render),startPointerY=self.pointerY=e.pageY,startPointerX=self.pointerX=e.pageX,(allowNativeTouchScrolling||self.autoScroll)&&_recordMaxScrolls(target.parentNode),target.parentNode&&(scrollProxy||self.autoScroll&&!rotationMode&&target.parentNode._gsMaxScrollX&&!_placeholderDiv.parentNode)&&!target.getBBox&&(_placeholderDiv.style.width=target.parentNode.scrollWidth+"px",target.parentNode.appendChild(_placeholderDiv)),recordStartPositions(),self.tween&&self.tween.kill(),self.isThrowing=!1,TweenLite.killTweensOf(scrollProxy||target,!0,killProps),scrollProxy&&TweenLite.killTweensOf(target,!0,{scrollTo:1}),self.tween=self.lockedAxis=null,(vars.zIndexBoost||!rotationMode&&!scrollProxy&&vars.zIndexBoost!==!1)&&(target.style.zIndex=Draggable.zIndex++),self.isPressed=!0,hasDragCallback=!(!vars.onDrag&&!self._listeners.drag),!rotationMode)for(i=triggers.length;--i>-1;)_setStyle(triggers[i],"cursor",vars.cursor||"move");_dispatchEvent(self,"press","onPress")}},onMove=function(e){var touches,pointerX,pointerY,i,originalEvent=e;if(enabled&&!_isMultiTouching&&self.isPressed&&e){if(self.pointerEvent=e,touches=e.changedTouches){if(e=touches[0],e!==touch&&e.identifier!==touchID){for(i=touches.length;--i>-1&&(e=touches[i]).identifier!==touchID;);if(0>i)return}}else if(e.pointerId&&touchID&&e.pointerId!==touchID)return;if(_isOldIE)e=_populateIEEvent(e,!0);else{if(touchEventTarget&&allowNativeTouchScrolling&&!touchDragAxis&&(pointerX=e.pageX,pointerY=e.pageY,matrix&&(i=pointerX*matrix[0]+pointerY*matrix[2]+matrix[4],pointerY=pointerX*matrix[1]+pointerY*matrix[3]+matrix[5],pointerX=i),touchDragAxis=Math.abs(pointerX-startPointerX)>Math.abs(pointerY-startPointerY)&&allowX?"x":"y",self.vars.lockAxisOnTouchScroll!==!1&&(self.lockedAxis="x"===touchDragAxis?"y":"x","function"==typeof self.vars.onLockAxis&&self.vars.onLockAxis.call(self,originalEvent)),_isAndroid&&allowNativeTouchScrolling===touchDragAxis))return void onRelease(originalEvent);self.allowEventDefault||allowNativeTouchScrolling&&(!touchDragAxis||allowNativeTouchScrolling===touchDragAxis)||originalEvent.cancelable===!1||(originalEvent.preventDefault(),originalEvent.preventManipulation&&originalEvent.preventManipulation())}self.autoScroll&&(checkAutoScrollBounds=!0),setPointerPosition(e.pageX,e.pageY)}},setPointerPosition=function(pointerX,pointerY){var xChange,yChange,x,y,dif,temp,dragTolerance=1-self.dragResistance,edgeTolerance=1-self.edgeResistance;self.pointerX=pointerX,self.pointerY=pointerY,rotationMode?(y=Math.atan2(rotationOrigin.y-pointerY,pointerX-rotationOrigin.x)*_RAD2DEG,dif=self.y-y,self.y=y,dif>180?startElementY-=360:-180>dif&&(startElementY+=360),x=startElementX+(startElementY-y)*dragTolerance):(matrix&&(temp=pointerX*matrix[0]+pointerY*matrix[2]+matrix[4],pointerY=pointerX*matrix[1]+pointerY*matrix[3]+matrix[5],pointerX=temp),yChange=pointerY-startPointerY,xChange=pointerX-startPointerX,minimumMovement>yChange&&yChange>-minimumMovement&&(yChange=0),minimumMovement>xChange&&xChange>-minimumMovement&&(xChange=0),(self.lockAxis||self.lockedAxis)&&(xChange||yChange)&&(temp=self.lockedAxis,temp||(self.lockedAxis=temp=allowX&&Math.abs(xChange)>Math.abs(yChange)?"y":allowY?"x":null,temp&&"function"==typeof self.vars.onLockAxis&&self.vars.onLockAxis.call(self,self.pointerEvent)),"y"===temp?yChange=0:"x"===temp&&(xChange=0)),x=startElementX+xChange*dragTolerance,y=startElementY+yChange*dragTolerance),snapX||snapY?(snapX&&(x=snapX(x)),snapY&&(y=snapY(y))):hasBounds&&(x>maxX?x=maxX+(x-maxX)*edgeTolerance:minX>x&&(x=minX+(x-minX)*edgeTolerance),rotationMode||(y>maxY?y=maxY+(y-maxY)*edgeTolerance:minY>y&&(y=minY+(y-minY)*edgeTolerance))),rotationMode||(x=Math.round(x),y=Math.round(y)),(self.x!==x||self.y!==y&&!rotationMode)&&(rotationMode?self.endRotation=self.x=self.endX=x:(allowY&&(self.y=self.endY=y),allowX&&(self.x=self.endX=x)),dirty=!0,!self.isDragging&&self.isPressed&&(self.isDragging=!0,_dispatchEvent(self,"dragstart","onDragStart")))},onRelease=function(e,force){if(enabled&&self.isPressed&&(!e||null==touchID||force||!(e.pointerId&&e.pointerId!==touchID||e.changedTouches&&!_hasTouchID(e.changedTouches,touchID)))){self.isPressed=!1;var touches,i,syntheticEvent,eventTarget,syntheticClick,originalEvent=e,wasDragging=self.isDragging,placeholderDelayedCall=TweenLite.delayedCall(.001,removePlaceholder);if(touchEventTarget?(_removeListener(touchEventTarget,"touchend",onRelease),_removeListener(touchEventTarget,"touchmove",onMove),_removeListener(touchEventTarget,"touchcancel",onRelease),_removeListener(_doc,"touchstart",_onMultiTouchDocument)):_removeListener(_doc,"mousemove",onMove),_removeListener(_doc,"mouseup",onRelease),e&&e.target&&_removeListener(e.target,"mouseup",onRelease),dirty=!1,isClicking)return e&&_removeListener(e.target,"change",onRelease),_setSelectable(triggers,!1),_dispatchEvent(self,"release","onRelease"),_dispatchEvent(self,"click","onClick"),void(isClicking=!1);if(_removeFromRenderQueue(render),!rotationMode)for(i=triggers.length;--i>-1;)_setStyle(triggers[i],"cursor",vars.cursor||"move");if(wasDragging&&(dragEndTime=_lastDragTime=_getTime(),self.isDragging=!1),_dragCount--,e){if(_isOldIE&&(e=_populateIEEvent(e,!1)),touches=e.changedTouches,touches&&(e=touches[0],e!==touch&&e.identifier!==touchID)){for(i=touches.length;--i>-1&&(e=touches[i]).identifier!==touchID;);if(0>i)return}self.pointerEvent=originalEvent,self.pointerX=e.pageX,self.pointerY=e.pageY}return originalEvent&&!wasDragging?(interrupted&&(vars.snap||vars.bounds)&&animate(vars.throwProps),_dispatchEvent(self,"release","onRelease"),_isAndroid&&"touchmove"===originalEvent.type||(_dispatchEvent(self,"click","onClick"),eventTarget=originalEvent.target||originalEvent.srcElement||target,clickTime=_getTime(),syntheticClick=function(){clickTime!==clickDispatch&&self.enabled()&&!self.isPressed&&(eventTarget.click?eventTarget.click():_doc.createEvent&&(syntheticEvent=_doc.createEvent("MouseEvents"),syntheticEvent.initMouseEvent("click",!0,!0,window,1,self.pointerEvent.screenX,self.pointerEvent.screenY,self.pointerX,self.pointerY,!1,!1,!1,!1,0,null),eventTarget.dispatchEvent(syntheticEvent)))},_isAndroid||TweenLite.delayedCall(1e-5,syntheticClick))):(animate(vars.throwProps),_isOldIE||self.allowEventDefault||!originalEvent||!vars.dragClickables&&isClickable.call(self,originalEvent.target)||!wasDragging||allowNativeTouchScrolling&&(!touchDragAxis||allowNativeTouchScrolling!==touchDragAxis)||originalEvent.cancelable===!1||(originalEvent.preventDefault(),originalEvent.preventManipulation&&originalEvent.preventManipulation()),_dispatchEvent(self,"release","onRelease")),isTweening()&&placeholderDelayedCall.duration(self.tween.duration()),wasDragging&&_dispatchEvent(self,"dragend","onDragEnd"),!0}},updateScroll=function(e){if(e&&self.isDragging){var parent=e.target||e.srcElement||target.parentNode,deltaX=parent.scrollLeft-parent._gsScrollX,deltaY=parent.scrollTop-parent._gsScrollY;(deltaX||deltaY)&&(matrix?(startPointerX-=deltaX*matrix[0]+deltaY*matrix[2],startPointerY-=deltaY*matrix[3]+deltaX*matrix[1]):(startPointerX-=deltaX,startPointerY-=deltaY),parent._gsScrollX+=deltaX,parent._gsScrollY+=deltaY,setPointerPosition(self.pointerX,self.pointerY))}},onClick=function(e){var time=_getTime(),recentlyClicked=40>time-clickTime,recentlyDragged=40>time-dragEndTime,alreadyDispatched=recentlyClicked&&clickDispatch===clickTime,isModern=!!e.preventDefault,alreadyDispatchedTrusted=recentlyClicked&&trustedClickDispatch===clickTime,trusted=e.isTrusted||null==e.isTrusted&&recentlyClicked&&alreadyDispatched;return isModern&&(alreadyDispatched||recentlyDragged&&self.vars.suppressClickOnDrag!==!1)&&e.stopImmediatePropagation(),!recentlyClicked||alreadyDispatched&&trusted===alreadyDispatchedTrusted?void((self.isPressed||recentlyDragged||recentlyClicked)&&(isModern?trusted&&e.detail&&recentlyClicked||(e.preventDefault(),e.preventManipulation&&e.preventManipulation()):e.returnValue=!1)):(trusted&&alreadyDispatched&&(trustedClickDispatch=clickTime),void(clickDispatch=clickTime))};old=Draggable.get(this.target),old&&old.kill(),this.startDrag=function(e){onPress(e),self.isDragging||(self.isDragging=!0,_dispatchEvent(self,"dragstart","onDragStart"))},this.drag=onMove,this.endDrag=function(e){onRelease(e,!0)},this.timeSinceDrag=function(){return self.isDragging?0:(_getTime()-dragEndTime)/1e3},this.hitTest=function(target,threshold){return Draggable.hitTest(self.target,target,threshold)},this.getDirection=function(from,diagonalThreshold){var xChange,yChange,ratio,direction,r1,r2,mode="velocity"===from&&ThrowPropsPlugin?from:"object"!=typeof from||rotationMode?"start":"element";return"element"===mode&&(r1=_parseRect(self.target),r2=_parseRect(from)),xChange="start"===mode?self.x-startElementX:"velocity"===mode?ThrowPropsPlugin.getVelocity(this.target,xProp):r1.left+r1.width/2-(r2.left+r2.width/2),rotationMode?0>xChange?"counter-clockwise":"clockwise":(diagonalThreshold=diagonalThreshold||2,yChange="start"===mode?self.y-startElementY:"velocity"===mode?ThrowPropsPlugin.getVelocity(this.target,yProp):r1.top+r1.height/2-(r2.top+r2.height/2),ratio=Math.abs(xChange/yChange),direction=1/diagonalThreshold>ratio?"":0>xChange?"left":"right",diagonalThreshold>ratio&&(""!==direction&&(direction+="-"),direction+=0>yChange?"up":"down"),direction)},this.applyBounds=function(newBounds){var x,y,forceZeroVelocity,e,parent,isRoot;if(newBounds&&vars.bounds!==newBounds)return vars.bounds=newBounds,self.update(!0);if(syncXY(!0),calculateBounds(),hasBounds){if(x=self.x,y=self.y,x>maxX?x=maxX:minX>x&&(x=minX),y>maxY?y=maxY:minY>y&&(y=minY),(self.x!==x||self.y!==y)&&(forceZeroVelocity=!0,self.x=self.endX=x,rotationMode?self.endRotation=x:self.y=self.endY=y,dirty=!0,render(!0),self.autoScroll&&!self.isDragging))for(_recordMaxScrolls(target.parentNode),e=target,_windowProxy.scrollTop=null!=window.pageYOffset?window.pageYOffset:null!=_docElement.scrollTop?_docElement.scrollTop:_doc.body.scrollTop,_windowProxy.scrollLeft=null!=window.pageXOffset?window.pageXOffset:null!=_docElement.scrollLeft?_docElement.scrollLeft:_doc.body.scrollLeft;e&&!isRoot;)isRoot=_isRoot(e.parentNode),parent=isRoot?_windowProxy:e.parentNode,allowY&&parent.scrollTop>parent._gsMaxScrollY&&(parent.scrollTop=parent._gsMaxScrollY),allowX&&parent.scrollLeft>parent._gsMaxScrollX&&(parent.scrollLeft=parent._gsMaxScrollX),e=parent;self.isThrowing&&(forceZeroVelocity||self.endX>maxX||self.endX<minX||self.endY>maxY||self.endY<minY)&&animate(vars.throwProps,forceZeroVelocity)}return self},this.update=function(applyBounds,sticky,ignoreExternalChanges){var x=self.x,y=self.y;return updateMatrix(!sticky),applyBounds?self.applyBounds():(dirty&&ignoreExternalChanges&&render(!0),syncXY(!0)),sticky&&(setPointerPosition(self.pointerX,self.pointerY),dirty&&render(!0)),self.isPressed&&!sticky&&(allowX&&Math.abs(x-self.x)>.01||allowY&&Math.abs(y-self.y)>.01&&!rotationMode)&&recordStartPositions(),self.autoScroll&&(_recordMaxScrolls(target.parentNode),checkAutoScrollBounds=self.isDragging,render(!0)),self.autoScroll&&(_removeScrollListener(target,updateScroll),_addScrollListener(target,updateScroll)),self},this.enable=function(type){var id,i,trigger;if("soft"!==type){for(i=triggers.length;--i>-1;)trigger=triggers[i],_addListener(trigger,"mousedown",onPress),_addListener(trigger,"touchstart",onPress),_addListener(trigger,"click",onClick,!0),rotationMode||_setStyle(trigger,"cursor",vars.cursor||"move"),_setStyle(trigger,"touchCallout","none"),_setStyle(trigger,"touchAction",allowX===allowY||scrollProxy?"none":allowX?"pan-y":"pan-x");_setSelectable(triggers,!1)}return _addScrollListener(target,updateScroll),enabled=!0,ThrowPropsPlugin&&"soft"!==type&&ThrowPropsPlugin.track(scrollProxy||target,xyMode?"x,y":rotationMode?"rotation":"top,left"),scrollProxy&&scrollProxy.enable(),target._gsDragID=id="d"+_lookupCount++,_lookup[id]=this,scrollProxy&&(scrollProxy.element._gsDragID=id),TweenLite.set(target,{x:"+=0",overwrite:!1}),applyObj={t:target,data:_isOldIE?cssVars:target._gsTransform,tween:{},setRatio:_isOldIE?function(){TweenLite.set(target,tempVars)}:CSSPlugin._internals.setTransformRatio||CSSPlugin._internals.set3DTransformRatio},recordStartPositions(),self.update(!0),self},this.disable=function(type){var i,trigger,dragging=self.isDragging;if(!rotationMode)for(i=triggers.length;--i>-1;)_setStyle(triggers[i],"cursor",null);if("soft"!==type){for(i=triggers.length;--i>-1;)trigger=triggers[i],_setStyle(trigger,"touchCallout",null),_setStyle(trigger,"touchAction",null),_removeListener(trigger,"mousedown",onPress),_removeListener(trigger,"touchstart",onPress),_removeListener(trigger,"click",onClick);_setSelectable(triggers,!0),touchEventTarget&&(_removeListener(touchEventTarget,"touchcancel",onRelease),_removeListener(touchEventTarget,"touchend",onRelease),_removeListener(touchEventTarget,"touchmove",onMove)),_removeListener(_doc,"mouseup",onRelease),_removeListener(_doc,"mousemove",onMove)}return _removeScrollListener(target,updateScroll),enabled=!1,ThrowPropsPlugin&&"soft"!==type&&ThrowPropsPlugin.untrack(scrollProxy||target,xyMode?"x,y":rotationMode?"rotation":"top,left"),scrollProxy&&scrollProxy.disable(),_removeFromRenderQueue(render),self.isDragging=self.isPressed=isClicking=!1,dragging&&_dispatchEvent(self,"dragend","onDragEnd"),self},this.enabled=function(value,type){return arguments.length?value?self.enable(type):self.disable(type):enabled},this.kill=function(){return self.isThrowing=!1,TweenLite.killTweensOf(scrollProxy||target,!0,killProps),self.disable(),delete _lookup[target._gsDragID],self},-1!==type.indexOf("scroll")&&(scrollProxy=this.scrollProxy=new ScrollProxy(target,_extend({onKill:function(){self.isPressed&&onRelease(null)}},vars)),target.style.overflowY=allowY&&!_isTouchDevice?"auto":"hidden",target.style.overflowX=allowX&&!_isTouchDevice?"auto":"hidden",target=scrollProxy.content),vars.force3D!==!1&&TweenLite.set(target,{force3D:!0}),rotationMode?killProps.rotation=1:(allowX&&(killProps[xProp]=1),allowY&&(killProps[yProp]=1)),rotationMode?(tempVars=_tempVarsRotation,cssVars=tempVars.css,tempVars.overwrite=!1):xyMode&&(tempVars=allowX&&allowY?_tempVarsXY:allowX?_tempVarsX:_tempVarsY,cssVars=tempVars.css,tempVars.overwrite=!1),this.enable()},p=Draggable.prototype=new EventDispatcher;p.constructor=Draggable,p.pointerX=p.pointerY=0,p.isDragging=p.isPressed=!1,Draggable.version="0.14.8",Draggable.zIndex=1e3,_addListener(_doc,"touchcancel",function(){}),_addListener(_doc,"contextmenu",function(){var p;for(p in _lookup)_lookup[p].isPressed&&_lookup[p].endDrag()}),Draggable.create=function(targets,vars){"string"==typeof targets&&(targets=TweenLite.selector(targets));for(var a=targets&&0!==targets.length?_isArrayLike(targets)?_flattenArray(targets):[targets]:[],i=a.length;--i>-1;)a[i]=new Draggable(a[i],vars);return a},Draggable.get=function(target){return _lookup[(_unwrapElement(target)||{})._gsDragID]},Draggable.timeSinceDrag=function(){return(_getTime()-_lastDragTime)/1e3};var _tempRect={},_oldIERect=function(e){var width,height,top=0,left=0;for(e=_unwrapElement(e),width=e.offsetWidth,height=e.offsetHeight;e;)top+=e.offsetTop,left+=e.offsetLeft,e=e.offsetParent;return{top:top,left:left,width:width,height:height}},_parseRect=function(e,undefined){if(e===window)return _tempRect.left=_tempRect.top=0,_tempRect.width=_tempRect.right=_docElement.clientWidth||e.innerWidth||_doc.body.clientWidth||0,_tempRect.height=_tempRect.bottom=(e.innerHeight||0)-20<_docElement.clientHeight?_docElement.clientHeight:e.innerHeight||_doc.body.clientHeight||0,_tempRect;var r=e.pageX!==undefined?{left:e.pageX-_getDocScrollLeft(),top:e.pageY-_getDocScrollTop(),right:e.pageX-_getDocScrollLeft()+1,bottom:e.pageY-_getDocScrollTop()+1}:e.nodeType||e.left===undefined||e.top===undefined?_isOldIE?_oldIERect(e):_unwrapElement(e).getBoundingClientRect():e;return r.right===undefined&&r.width!==undefined?(r.right=r.left+r.width,r.bottom=r.top+r.height):r.width===undefined&&(r={width:r.right-r.left,height:r.bottom-r.top,right:r.right,left:r.left,bottom:r.bottom,top:r.top}),r};return Draggable.hitTest=function(obj1,obj2,threshold){if(obj1===obj2)return!1;var overlap,area,isRatio,r1=_parseRect(obj1),r2=_parseRect(obj2),isOutside=r2.left>r1.right||r2.right<r1.left||r2.top>r1.bottom||r2.bottom<r1.top;return isOutside||!threshold?!isOutside:(isRatio=-1!==(threshold+"").indexOf("%"),threshold=parseFloat(threshold)||0,overlap={left:Math.max(r1.left,r2.left),top:Math.max(r1.top,r2.top)},overlap.width=Math.min(r1.right,r2.right)-overlap.left,overlap.height=Math.min(r1.bottom,r2.bottom)-overlap.top,overlap.width<0||overlap.height<0?!1:isRatio?(threshold*=.01,area=overlap.width*overlap.height,area>=r1.width*r1.height*threshold||area>=r2.width*r2.height*threshold):overlap.width>threshold&&overlap.height>threshold)},_placeholderDiv.style.cssText="visibility:hidden;height:1px;top:-1px;pointer-events:none;position:relative;clear:both;",Draggable},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(name){"use strict";var getGlobal=function(){return(_gsScope.GreenSockGlobals||_gsScope)[name]};"function"==typeof define&&define.amd?define(["TweenLite","CSSPlugin"],getGlobal):"undefined"!=typeof module&&module.exports&&(require("../TweenLite.js"),require("../plugins/CSSPlugin.js"),module.exports=getGlobal())}("Draggable");